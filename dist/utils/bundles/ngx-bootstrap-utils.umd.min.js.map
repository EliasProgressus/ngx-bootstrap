{"version":3,"sources":["ng://ngx-bootstrap/utils/trigger.class.ts","ng://ngx-bootstrap/utils/triggers.ts","ng://ngx-bootstrap/utils/facade/browser.ts","ng://ngx-bootstrap/utils/theme-provider.ts","ng://ngx-bootstrap/utils/linked-list.class.ts","ng://ngx-bootstrap/utils/utils.class.ts","ng://ngx-bootstrap/utils/warn-once.ts","ng://ngx-bootstrap/utils/decorators.ts"],"names":["Trigger","open","close","this","prototype","isManual","DEFAULT_ALIASES","hover","focus","parseTriggers","triggers","aliases","trimmedTriggers","trim","length","parsedTriggers","split","map","trigger","triggerPair","alias","manualTriggers","filter","Error","guessedVersion","win","window","document","location","gc","performance","Event","MouseEvent","KeyboardEvent","EventTarget","History","Location","EventListener","LinkedList","get","position","current","head","index","next","value","add","node","undefined","previous","tail","currentPreviousNode","getNode","currentNextNode","createInternalArrayRepresentation","remove","removedNode","set","toArray","asArray","findAll","fn","result","push","_this","args","_i","arguments","forEach","arg","pop","last","unshift","reverse","shift","lastItem","indexOf","some","every","toString","find","findIndex","outArray","Utils","reflow","element","offsetHeight","getStyles","elem","view","ownerDocument","defaultView","opener","getComputedStyle","_messagesHash","_hideMsg","console","isBs3","__theme","_guessBsVersion","spanEl","createElement","innerText","body","appendChild","classList","rect","getBoundingClientRect","removeChild","top","listenToTriggersV2","renderer","options","target","Function","listeners","_registerHide","registerHide","useToggle","showFn","toggle","show","listen","hide","unsubscribeFn","registerOutsideClick","outsideClick","event","contains","targets","registerEscClick","outsideEsc","OnChange","defaultValue","propertyKey","_key","Object","defineProperty","emit","setTheme","theme","warnOnce","msg","isDevMode","warn","listenToTriggers","hideFn","toggleFn"],"mappings":"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","sourcesContent":["/**\r\n * @copyright Valor Software\r\n * @copyright Angular ng-bootstrap team\r\n */\r\n\r\nexport class Trigger {\r\n  open: string;\r\n  close?: string;\r\n\r\n  constructor(open: string, close?: string) {\r\n    this.open = open;\r\n    this.close = close || open;\r\n  }\r\n\r\n  isManual(): boolean {\r\n    return this.open === 'manual' || this.close === 'manual';\r\n  }\r\n}\r\n","/**\r\n * @copyright Valor Software\r\n * @copyright Angular ng-bootstrap team\r\n */\r\nimport { Renderer2 } from '@angular/core';\r\nimport { Trigger } from './trigger.class';\r\n\r\n/* tslint:disable-next-line: no-any */\r\nexport type BsEventCallback = (event?: any) => boolean | void;\r\n\r\nexport interface ListenOptions {\r\n  target?: HTMLElement;\r\n  targets?: HTMLElement[];\r\n  triggers?: string;\r\n  outsideClick?: boolean;\r\n  outsideEsc?: boolean;\r\n  show?: BsEventCallback;\r\n  hide?: BsEventCallback;\r\n  toggle?: BsEventCallback;\r\n}\r\n\r\nconst DEFAULT_ALIASES = {\r\n  hover: ['mouseover', 'mouseout'],\r\n  focus: ['focusin', 'focusout']\r\n};\r\n\r\n/* tslint:disable-next-line: no-any */\r\nexport function parseTriggers(triggers: string, aliases: any = DEFAULT_ALIASES): Trigger[] {\r\n  const trimmedTriggers = (triggers || '').trim();\r\n\r\n  if (trimmedTriggers.length === 0) {\r\n    return [];\r\n  }\r\n\r\n  const parsedTriggers = trimmedTriggers\r\n    .split(/\\s+/)\r\n    .map((trigger: string) => trigger.split(':'))\r\n    .map((triggerPair: string[]) => {\r\n      const alias = aliases[triggerPair[0]] || triggerPair;\r\n\r\n      return new Trigger(alias[0], alias[1]);\r\n    });\r\n\r\n  const manualTriggers = parsedTriggers.filter((triggerPair: Trigger) =>\r\n    triggerPair.isManual()\r\n  );\r\n\r\n  if (manualTriggers.length > 1) {\r\n    throw new Error('Triggers parse error: only one manual trigger is allowed');\r\n  }\r\n\r\n  if (manualTriggers.length === 1 && parsedTriggers.length > 1) {\r\n    throw new Error('Triggers parse error: manual trigger can\\'t be mixed with other triggers');\r\n  }\r\n\r\n  return parsedTriggers;\r\n}\r\n\r\nexport function listenToTriggers(renderer: Renderer2,\r\n                                 /* tslint:disable-next-line: no-any */\r\n                                 target: any,\r\n                                 triggers: string,\r\n                                 showFn: BsEventCallback,\r\n                                 hideFn: BsEventCallback,\r\n                                 toggleFn: BsEventCallback): Function {\r\n  const parsedTriggers = parseTriggers(triggers);\r\n  /* tslint:disable-next-line: no-any */\r\n  const listeners: any[] = [];\r\n\r\n  if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\r\n    return Function.prototype;\r\n  }\r\n\r\n  parsedTriggers.forEach((trigger: Trigger) => {\r\n    if (trigger.open === trigger.close) {\r\n      listeners.push(renderer.listen(target, trigger.open, toggleFn));\r\n\r\n      return;\r\n    }\r\n\r\n    listeners.push(\r\n      renderer.listen(target, trigger.open, showFn),\r\n      renderer.listen(target, trigger.close, hideFn)\r\n    );\r\n  });\r\n\r\n  return () => {\r\n    listeners.forEach((unsubscribeFn: Function) => unsubscribeFn());\r\n  };\r\n}\r\n\r\nexport function listenToTriggersV2(renderer: Renderer2,\r\n                                   options: ListenOptions): Function {\r\n  const parsedTriggers = parseTriggers(options.triggers);\r\n  const target = options.target;\r\n  // do nothing\r\n  if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\r\n    return Function.prototype;\r\n  }\r\n\r\n  // all listeners\r\n  /* tslint:disable-next-line: no-any */\r\n  const listeners: any[] = [];\r\n\r\n  // lazy listeners registration\r\n  const _registerHide: Function[] = [];\r\n  const registerHide = () => {\r\n    // add hide listeners to unregister array\r\n    _registerHide.forEach((fn: Function) => listeners.push(fn()));\r\n    // register hide events only once\r\n    _registerHide.length = 0;\r\n  };\r\n\r\n  // register open\\close\\toggle listeners\r\n  parsedTriggers.forEach((trigger: Trigger) => {\r\n    const useToggle = trigger.open === trigger.close;\r\n    const showFn = useToggle ? options.toggle : options.show;\r\n\r\n    if (!useToggle) {\r\n      _registerHide.push(() =>\r\n        renderer.listen(target, trigger.close, options.hide)\r\n      );\r\n    }\r\n\r\n    listeners.push(\r\n      renderer.listen(target, trigger.open, () => showFn(registerHide))\r\n    );\r\n  });\r\n\r\n  return () => {\r\n    listeners.forEach((unsubscribeFn: Function) => unsubscribeFn());\r\n  };\r\n}\r\n\r\nexport function registerOutsideClick(renderer: Renderer2,\r\n                                     options: ListenOptions) {\r\n  if (!options.outsideClick) {\r\n    return Function.prototype;\r\n  }\r\n\r\n  /* tslint:disable-next-line: no-any */\r\n  return renderer.listen('document', 'click', (event: any) => {\r\n    if (options.target && options.target.contains(event.target)) {\r\n      return undefined;\r\n    }\r\n    if (\r\n      options.targets &&\r\n      options.targets.some(target => target.contains(event.target))\r\n    ) {\r\n      return undefined;\r\n    }\r\n\r\n    options.hide();\r\n  });\r\n}\r\n\r\nexport function registerEscClick(renderer: Renderer2,\r\n                                 options: ListenOptions) {\r\n  if (!options.outsideEsc) {\r\n    return Function.prototype;\r\n  }\r\n\r\n  return renderer.listen('document', 'keyup.esc', (event: any) => {\r\n    if (options.target && options.target.contains(event.target)) {\r\n      return undefined;\r\n    }\r\n    if (\r\n      options.targets &&\r\n      options.targets.some(target => target.contains(event.target))\r\n    ) {\r\n      return undefined;\r\n    }\r\n\r\n    options.hide();\r\n  });\r\n}\r\n","/**\r\n * @license\r\n * Copyright Google Inc. All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\n\r\n/**\r\n * JS version of browser APIs. This library can only run in the browser.\r\n */\r\nconst win = (typeof window !== 'undefined' && window) || {} as any;\r\n\r\nexport { win as window };\r\nexport const document = win.document;\r\nexport const location = win.location;\r\nexport const gc = win.gc ? () => win.gc() : (): any => null;\r\nexport const performance = win.performance ? win.performance : null;\r\nexport const Event = win.Event;\r\nexport const MouseEvent = win.MouseEvent;\r\nexport const KeyboardEvent = win.KeyboardEvent;\r\nexport const EventTarget = win.EventTarget;\r\nexport const History = win.History;\r\nexport const Location = win.Location;\r\nexport const EventListener = win.EventListener;\r\n","import { window } from './facade/browser';\r\n\r\nlet guessedVersion: 'bs3' | 'bs4';\r\n\r\nfunction _guessBsVersion(): 'bs3' | 'bs4' {\r\n  if (typeof document === 'undefined') {\r\n    return null;\r\n  }\r\n  const spanEl = document.createElement('span');\r\n  spanEl.innerText = 'test bs version';\r\n  document.body.appendChild(spanEl);\r\n  spanEl.classList.add('d-none');\r\n  const rect = spanEl.getBoundingClientRect();\r\n  document.body.removeChild(spanEl);\r\n  if (!rect) {\r\n    return 'bs3';\r\n  }\r\n\r\n  return rect.top === 0 ? 'bs4' : 'bs3';\r\n}\r\n\r\nexport function setTheme(theme: 'bs3' | 'bs4'): void {\r\n  guessedVersion = theme;\r\n}\r\n\r\n// todo: in ngx-bootstrap, bs4 will became a default one\r\nexport function isBs3(): boolean {\r\n  if (typeof window === 'undefined') {\r\n    return true;\r\n  }\r\n\r\n  if (typeof window.__theme === 'undefined') {\r\n    if (guessedVersion) {\r\n      return guessedVersion === 'bs3';\r\n    }\r\n    guessedVersion = _guessBsVersion();\r\n\r\n    return guessedVersion === 'bs3';\r\n  }\r\n\r\n  return window.__theme !== 'bs4';\r\n}\r\n","export class LinkedList<T> {\r\n  length = 0;\r\n  /* tslint:disable-next-line: no-any*/\r\n  protected head: any;\r\n  /* tslint:disable-next-line: no-any*/\r\n  protected tail: any;\r\n  /* tslint:disable-next-line: no-any*/\r\n  protected current: any;\r\n  protected asArray: T[] = [];\r\n\r\n  get(position: number): T {\r\n    if (this.length === 0 || position < 0 || position >= this.length) {\r\n      return void 0;\r\n    }\r\n\r\n    let current = this.head;\r\n\r\n    for (let index = 0; index < position; index++) {\r\n      current = current.next;\r\n    }\r\n\r\n    return current.value;\r\n  }\r\n\r\n  add(value: T, position: number = this.length): void {\r\n    if (position < 0 || position > this.length) {\r\n      throw new Error('Position is out of the list');\r\n    }\r\n\r\n    /* tslint:disable-next-line: no-any*/\r\n    const node: any = {\r\n      value,\r\n      next: undefined,\r\n      previous: undefined\r\n    };\r\n\r\n    if (this.length === 0) {\r\n      this.head = node;\r\n      this.tail = node;\r\n      this.current = node;\r\n    } else {\r\n      if (position === 0) {\r\n        // first node\r\n        node.next = this.head;\r\n        this.head.previous = node;\r\n        this.head = node;\r\n      } else if (position === this.length) {\r\n        // last node\r\n        this.tail.next = node;\r\n        node.previous = this.tail;\r\n        this.tail = node;\r\n      } else {\r\n        // node in middle\r\n        const currentPreviousNode = this.getNode(position - 1);\r\n        const currentNextNode = currentPreviousNode.next;\r\n\r\n        currentPreviousNode.next = node;\r\n        currentNextNode.previous = node;\r\n\r\n        node.previous = currentPreviousNode;\r\n        node.next = currentNextNode;\r\n      }\r\n    }\r\n    this.length++;\r\n    this.createInternalArrayRepresentation();\r\n  }\r\n\r\n  remove(position = 0): void {\r\n    if (this.length === 0 || position < 0 || position >= this.length) {\r\n      throw new Error('Position is out of the list');\r\n    }\r\n\r\n    if (position === 0) {\r\n      // first node\r\n      this.head = this.head.next;\r\n\r\n      if (this.head) {\r\n        // there is no second node\r\n        this.head.previous = undefined;\r\n      } else {\r\n        // there is no second node\r\n        this.tail = undefined;\r\n      }\r\n    } else if (position === this.length - 1) {\r\n      // last node\r\n      this.tail = this.tail.previous;\r\n      this.tail.next = undefined;\r\n    } else {\r\n      // middle node\r\n      const removedNode = this.getNode(position);\r\n      removedNode.next.previous = removedNode.previous;\r\n      removedNode.previous.next = removedNode.next;\r\n    }\r\n\r\n    this.length--;\r\n    this.createInternalArrayRepresentation();\r\n  }\r\n\r\n  set(position: number, value: T): void {\r\n    if (this.length === 0 || position < 0 || position >= this.length) {\r\n      throw new Error('Position is out of the list');\r\n    }\r\n\r\n    const node = this.getNode(position);\r\n    node.value = value;\r\n    this.createInternalArrayRepresentation();\r\n  }\r\n\r\n  toArray(): T[] {\r\n    return this.asArray;\r\n  }\r\n\r\n  /* tslint:disable-next-line: no-any*/\r\n  findAll(fn: any): any[] {\r\n    let current = this.head;\r\n    /* tslint:disable-next-line: no-any*/\r\n    const result: any[] = [];\r\n    for (let index = 0; index < this.length; index++) {\r\n      if (fn(current.value, index)) {\r\n        result.push({index, value: current.value});\r\n      }\r\n      current = current.next;\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  // Array methods overriding start\r\n  push(...args: T[]): number {\r\n    /* tslint:disable-next-line: no-any*/\r\n    args.forEach((arg: any) => {\r\n      this.add(arg);\r\n    });\r\n\r\n    return this.length;\r\n  }\r\n\r\n  pop(): T {\r\n    if (this.length === 0) {\r\n      return undefined;\r\n    }\r\n    const last = this.tail;\r\n    this.remove(this.length - 1);\r\n\r\n    return last.value;\r\n  }\r\n\r\n  unshift(...args: T[]): number {\r\n    args.reverse();\r\n    /* tslint:disable-next-line: no-any*/\r\n    args.forEach((arg: any) => {\r\n      this.add(arg, 0);\r\n    });\r\n\r\n    return this.length;\r\n  }\r\n\r\n  shift(): T {\r\n    if (this.length === 0) {\r\n      return undefined;\r\n    }\r\n    const lastItem = this.head.value;\r\n    this.remove();\r\n\r\n    return lastItem;\r\n  }\r\n\r\n  /* tslint:disable-next-line: no-any*/\r\n  forEach(fn: any): void {\r\n    let current = this.head;\r\n    for (let index = 0; index < this.length; index++) {\r\n      fn(current.value, index);\r\n      current = current.next;\r\n    }\r\n  }\r\n\r\n  indexOf(value: T): number {\r\n    let current = this.head;\r\n    let position = 0;\r\n\r\n    for (let index = 0; index < this.length; index++) {\r\n      if (current.value === value) {\r\n        position = index;\r\n        break;\r\n      }\r\n      current = current.next;\r\n    }\r\n\r\n    return position;\r\n  }\r\n\r\n  /* tslint:disable-next-line: no-any*/\r\n  some(fn: any): boolean {\r\n    let current = this.head;\r\n    let result = false;\r\n    while (current && !result) {\r\n      if (fn(current.value)) {\r\n        result = true;\r\n        break;\r\n      }\r\n      current = current.next;\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /* tslint:disable-next-line: no-any*/\r\n  every(fn: any): boolean {\r\n    let current = this.head;\r\n    let result = true;\r\n    while (current && result) {\r\n      if (!fn(current.value)) {\r\n        result = false;\r\n      }\r\n      current = current.next;\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  toString(): string {\r\n    return '[Linked List]';\r\n  }\r\n\r\n  /* tslint:disable-next-line: no-any*/\r\n  find(fn: any): T {\r\n    let current = this.head;\r\n    let result: T;\r\n    for (let index = 0; index < this.length; index++) {\r\n      if (fn(current.value, index)) {\r\n        result = current.value;\r\n        break;\r\n      }\r\n      current = current.next;\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /* tslint:disable-next-line: no-any*/\r\n  findIndex(fn: any): number {\r\n    let current = this.head;\r\n    let result: number;\r\n    for (let index = 0; index < this.length; index++) {\r\n      if (fn(current.value, index)) {\r\n        result = index;\r\n        break;\r\n      }\r\n      current = current.next;\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /* tslint:disable-next-line: no-any*/\r\n  protected getNode(position: number): any {\r\n    if (this.length === 0 || position < 0 || position >= this.length) {\r\n      throw new Error('Position is out of the list');\r\n    }\r\n\r\n    let current = this.head;\r\n\r\n    for (let index = 0; index < position; index++) {\r\n      current = current.next;\r\n    }\r\n\r\n    return current;\r\n  }\r\n\r\n  protected createInternalArrayRepresentation(): void {\r\n    /* tslint:disable-next-line: no-any*/\r\n    const outArray: any[] = [];\r\n    let current = this.head;\r\n\r\n    while (current) {\r\n      outArray.push(current.value);\r\n      current = current.next;\r\n    }\r\n    this.asArray = outArray;\r\n  }\r\n\r\n  // Array methods overriding END\r\n}\r\n","import { window } from './facade/browser';\r\n\r\nexport class Utils {\r\n  /* tslint:disable-next-line: no-any */\r\n  static reflow(element: any): void {\r\n    /* tslint:disable-next-line: no-any */\r\n    ((bs: any): void => bs)(element.offsetHeight);\r\n  }\r\n\r\n  // source: https://github.com/jquery/jquery/blob/master/src/css/var/getStyles.js\r\n  /* tslint:disable-next-line: no-any */\r\n  static getStyles(elem: any): any {\r\n    // Support: IE <=11 only, Firefox <=30 (#15098, #14150)\r\n    // IE throws on elements created in popups\r\n    // FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\r\n    let view = elem.ownerDocument.defaultView;\r\n\r\n    if (!view || !view.opener) {\r\n      view = window;\r\n    }\r\n\r\n    return view.getComputedStyle(elem);\r\n  }\r\n}\r\n","import { isDevMode } from '@angular/core';\r\nconst _messagesHash: { [key: string]: boolean } = {};\r\nconst _hideMsg = typeof console === 'undefined' || !('warn' in console);\r\n\r\nexport function warnOnce(msg: string): void {\r\n  if (!isDevMode() || _hideMsg || msg in _messagesHash) {\r\n    return;\r\n  }\r\n\r\n  _messagesHash[msg] = true;\r\n  /*tslint:disable-next-line*/\r\n  console.warn(msg);\r\n}\r\n","/*tslint:disable:no-invalid-this */\r\n/* tslint:disable-next-line: no-any */\r\nexport function OnChange(defaultValue?: any): any {\r\n  const sufix = 'Change';\r\n\r\n  /* tslint:disable-next-line: no-any */\r\n  return function OnChangeHandler(target: any, propertyKey: string): void {\r\n    const _key = ` __${propertyKey}Value`;\r\n    Object.defineProperty(target, propertyKey, {\r\n      /* tslint:disable-next-line: no-any */\r\n      get(): any {\r\n        return this[_key];\r\n      },\r\n      /* tslint:disable-next-line: no-any */\r\n      set(value: any): void {\r\n        const prevValue = this[_key];\r\n        this[_key] = value;\r\n        if (prevValue !== value && this[propertyKey + sufix]) {\r\n          this[propertyKey + sufix].emit(value);\r\n        }\r\n      }\r\n    });\r\n  };\r\n}\r\n/* tslint:enable */\r\n"]}